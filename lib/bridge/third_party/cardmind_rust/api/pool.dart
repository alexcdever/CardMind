// This file is automatically generated, so please do not edit it.
// @generated by `flutter_rust_bridge`@ 2.11.1.

// ignore_for_file: invalid_use_of_internal_member, unused_import, unnecessary_import

import 'package:flutter_rust_bridge/flutter_rust_bridge_for_generated.dart';

import '../../../frb_generated.dart';
import '../../../models/pool.dart';

/// Initialize the PoolStore with the given storage path
///
/// Must be called before any other pool API functions.
/// Note: Must be called from the same thread that will use the pool API functions.
///
/// # Arguments
///
/// * `path` - Storage root directory path
///
/// # Example (Dart)
///
/// ```dart
/// await initPoolStore(path: '/path/to/storage');
/// ```
Future<void> initPoolStore({required String path}) =>
    RustLib.instance.api.cardmindRustApiPoolInitPoolStore(path: path);

/// Create a new data pool
///
/// # Arguments
///
/// * `name` - Pool name (max 128 characters)
/// * `password` - Pool password (plaintext, stored in pool metadata)
///
/// # Returns
///
/// The created Pool
///
/// # Example (Dart)
///
/// ```dart
/// final pool = await createPool(name: '工作笔记', password: 'mypassword123');
/// ```
Future<Pool> createPool({required String name, required String password}) =>
    RustLib.instance.api.cardmindRustApiPoolCreatePool(
      name: name,
      password: password,
    );

/// Get all pools
///
/// # Returns
///
/// List of all pools, ordered by creation time (newest first)
///
/// # Example (Dart)
///
/// ```dart
/// final pools = await getAllPools();
/// ```
Future<List<Pool>> getAllPools() =>
    RustLib.instance.api.cardmindRustApiPoolGetAllPools();

/// Get a pool by ID
///
/// # Arguments
///
/// * `pool_id` - Pool ID
///
/// # Returns
///
/// The pool if found
///
/// # Errors
///
/// Returns error if the pool doesn't exist
///
/// # Example (Dart)
///
/// ```dart
/// final pool = await getPoolById(poolId: poolId);
/// ```
Future<Pool> getPoolById({required String poolId}) =>
    RustLib.instance.api.cardmindRustApiPoolGetPoolById(poolId: poolId);

/// Update a pool's name
///
/// # Arguments
///
/// * `pool_id` - Pool ID
/// * `name` - New name (max 128 characters)
///
/// # Example (Dart)
///
/// ```dart
/// await updatePool(poolId: poolId, name: 'New Name');
/// ```
Future<void> updatePool({required String poolId, required String name}) =>
    RustLib.instance.api.cardmindRustApiPoolUpdatePool(
      poolId: poolId,
      name: name,
    );

/// Delete a pool (soft delete)
///
/// # Arguments
///
/// * `pool_id` - Pool ID
///
/// # Example (Dart)
///
/// ```dart
/// await deletePool(poolId: poolId);
/// ```
Future<void> deletePool({required String poolId}) =>
    RustLib.instance.api.cardmindRustApiPoolDeletePool(poolId: poolId);

/// Add a member to a pool
///
/// # Arguments
///
/// * `pool_id` - Pool ID
/// * `device_id` - Device ID
/// * `device_name` - Device nickname in this pool
///
/// # Example (Dart)
///
/// ```dart
/// await addPoolMember(poolId: poolId, deviceId: deviceId, deviceName: 'My iPhone');
/// ```
Future<void> addPoolMember({
  required String poolId,
  required String deviceId,
  required String deviceName,
}) => RustLib.instance.api.cardmindRustApiPoolAddPoolMember(
  poolId: poolId,
  deviceId: deviceId,
  deviceName: deviceName,
);

/// Remove a member from a pool
///
/// # Arguments
///
/// * `pool_id` - Pool ID
/// * `device_id` - Device ID to remove
///
/// # Example (Dart)
///
/// ```dart
/// await removePoolMember(poolId: poolId, deviceId: deviceId);
/// ```
Future<void> removePoolMember({
  required String poolId,
  required String deviceId,
}) => RustLib.instance.api.cardmindRustApiPoolRemovePoolMember(
  poolId: poolId,
  deviceId: deviceId,
);

/// Update a member's nickname in a pool
///
/// # Arguments
///
/// * `pool_id` - Pool ID
/// * `device_id` - Device ID
/// * `new_name` - New nickname
///
/// # Example (Dart)
///
/// ```dart
/// await updateMemberName(poolId: poolId, deviceId: deviceId, newName: '工作手机');
/// ```
Future<void> updateMemberName({
  required String poolId,
  required String deviceId,
  required String newName,
}) => RustLib.instance.api.cardmindRustApiPoolUpdateMemberName(
  poolId: poolId,
  deviceId: deviceId,
  newName: newName,
);

/// Verify a pool password hash
///
/// Used when joining an existing pool.
///
/// # Arguments
///
/// * `pool_id` - Pool ID
/// * `password_hash` - SHA-256 hash to verify
///
/// # Returns
///
/// true if password is correct, false otherwise
///
/// # Example (Dart)
///
/// ```dart
/// final isValid = await verifyPoolPassword(poolId: poolId, passwordHash: hash);
/// ```
Future<bool> verifyPoolPassword({
  required String poolId,
  required String passwordHash,
}) => RustLib.instance.api.cardmindRustApiPoolVerifyPoolPassword(
  poolId: poolId,
  passwordHash: passwordHash,
);

/// Hash a pool secretkey using SHA-256
Future<String> hashPoolSecretkey({required String secretkey}) => RustLib
    .instance
    .api
    .cardmindRustApiPoolHashPoolSecretkey(secretkey: secretkey);
