// This file is automatically generated, so please do not edit it.
// @generated by `flutter_rust_bridge`@ 2.11.1.

// ignore_for_file: invalid_use_of_internal_member, unused_import, unnecessary_import

import 'package:flutter_rust_bridge/flutter_rust_bridge_for_generated.dart';

import '../frb_generated.dart';

/// 同步状态
///
/// # 字段说明
///
/// - `device_id`: 设备唯一标识（UUID v7）
/// - `last_sync`: 最后同步时间（Unix 毫秒时间戳）
/// - `version_vector`: 版本向量（Lamport 时间戳，用于增量同步）
///
/// # 示例
///
/// ```
/// use cardmind_rust::models::sync::SyncState;
/// use std::collections::HashMap;
///
/// let mut version_vector = HashMap::new();
/// version_vector.insert("peer-001".to_string(), 42u64);
///
/// let sync_state = SyncState {
///     device_id: "device-001".to_string(),
///     last_sync: 1704067200000,
///     version_vector,
/// };
///
/// assert_eq!(sync_state.device_id, "device-001");
/// assert_eq!(sync_state.last_sync, 1704067200000);
/// ```
class SyncState {
  const SyncState({required this.deviceId, required this.lastSync, required this.versionVector});

  /// 设备唯一标识
  final String deviceId;

  /// 最后同步时间（Unix 毫秒时间戳）
  final BigInt lastSync;

  /// 版本向量（Lamport 时间戳）
  ///
  /// Key: 设备 ID
  /// Value: 该设备的最后已知版本号
  final Map<String, BigInt> versionVector;

  @override
  int get hashCode => deviceId.hashCode ^ lastSync.hashCode ^ versionVector.hashCode;

  @override
  bool operator ==(Object other) =>
      identical(this, other) ||
      other is SyncState &&
          runtimeType == other.runtimeType &&
          deviceId == other.deviceId &&
          lastSync == other.lastSync &&
          versionVector == other.versionVector;
}
