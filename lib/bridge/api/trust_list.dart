// This file is automatically generated, so please do not edit it.
// @generated by `flutter_rust_bridge`@ 2.11.1.

// ignore_for_file: invalid_use_of_internal_member, unused_import, unnecessary_import

import 'package:flutter_rust_bridge/flutter_rust_bridge_for_generated.dart';

import '../frb_generated.dart';

/// 初始化信任列表存储
///
/// # 参数
///
/// - `db_path`: SQLite 数据库文件路径
///
/// # 示例
///
/// ```dart
/// await initTrustListStore(dbPath: '/path/to/cache.db');
/// ```
void initTrustListStore({required String dbPath}) =>
    RustLib.instance.api.crateApiTrustListInitTrustListStore(dbPath: dbPath);

/// 添加信任设备
///
/// 如果设备已存在，则更新设备信息。
///
/// # 参数
///
/// - `peer_id`: 设备 PeerId
/// - `device_name`: 设备名称
/// - `device_type`: 设备类型（phone/laptop/tablet）
/// - `paired_at`: 配对时间（Unix 毫秒时间戳）
/// - `last_seen`: 最后在线时间（Unix 毫秒时间戳）
///
/// # 示例
///
/// ```dart
/// await addTrustedDevice(
///   peerId: '12D3KooW...',
///   deviceName: 'My Phone',
///   deviceType: 'phone',
///   pairedAt: DateTime.now().millisecondsSinceEpoch,
///   lastSeen: DateTime.now().millisecondsSinceEpoch,
/// );
/// ```
void addTrustedDevice({
  required String peerId,
  required String deviceName,
  required String deviceType,
  required PlatformInt64 pairedAt,
  required PlatformInt64 lastSeen,
}) => RustLib.instance.api.crateApiTrustListAddTrustedDevice(
  peerId: peerId,
  deviceName: deviceName,
  deviceType: deviceType,
  pairedAt: pairedAt,
  lastSeen: lastSeen,
);

/// 移除信任设备
///
/// # 参数
///
/// - `peer_id`: 设备 PeerId
///
/// # 示例
///
/// ```dart
/// await removeTrustedDevice(peerId: '12D3KooW...');
/// ```
void removeTrustedDevice({required String peerId}) =>
    RustLib.instance.api.crateApiTrustListRemoveTrustedDevice(peerId: peerId);

/// 查询所有信任设备
///
/// 按最后在线时间倒序排列。
///
/// # 返回
///
/// 返回信任设备列表的 JSON 字符串
///
/// # 示例
///
/// ```dart
/// final devicesJson = await getAllTrustedDevices();
/// final devices = jsonDecode(devicesJson) as List;
/// ```
String getAllTrustedDevices() =>
    RustLib.instance.api.crateApiTrustListGetAllTrustedDevices();

/// 检查设备是否在信任列表中
///
/// # 参数
///
/// - `peer_id`: 设备 PeerId
///
/// # 示例
///
/// ```dart
/// final isTrusted = await isTrustedDevice(peerId: '12D3KooW...');
/// if (isTrusted) {
///   print('设备已信任');
/// }
/// ```
bool isTrustedDevice({required String peerId}) =>
    RustLib.instance.api.crateApiTrustListIsTrustedDevice(peerId: peerId);

/// 获取单个信任设备信息
///
/// # 参数
///
/// - `peer_id`: 设备 PeerId
///
/// # 返回
///
/// 返回设备信息的 JSON 字符串
///
/// # 示例
///
/// ```dart
/// final deviceJson = await getTrustedDevice(peerId: '12D3KooW...');
/// final device = jsonDecode(deviceJson);
/// ```
String getTrustedDevice({required String peerId}) =>
    RustLib.instance.api.crateApiTrustListGetTrustedDevice(peerId: peerId);

/// 更新设备最后在线时间
///
/// # 参数
///
/// - `peer_id`: 设备 PeerId
/// - `last_seen`: 最后在线时间（Unix 毫秒时间戳）
///
/// # 示例
///
/// ```dart
/// await updateDeviceLastSeen(
///   peerId: '12D3KooW...',
///   lastSeen: DateTime.now().millisecondsSinceEpoch,
/// );
/// ```
void updateDeviceLastSeen({
  required String peerId,
  required PlatformInt64 lastSeen,
}) => RustLib.instance.api.crateApiTrustListUpdateDeviceLastSeen(
  peerId: peerId,
  lastSeen: lastSeen,
);

/// 获取信任设备数量
///
/// # 示例
///
/// ```dart
/// final count = await getTrustedDeviceCount();
/// print('已配对 $count 个设备');
/// ```
int getTrustedDeviceCount() =>
    RustLib.instance.api.crateApiTrustListGetTrustedDeviceCount();
