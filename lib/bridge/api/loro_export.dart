// This file is automatically generated, so please do not edit it.
// @generated by `flutter_rust_bridge`@ 2.11.1.

// ignore_for_file: invalid_use_of_internal_member, unused_import, unnecessary_import

import 'package:flutter_rust_bridge/flutter_rust_bridge_for_generated.dart';

import '../frb_generated.dart';

// These function are ignored because they are on traits that is not defined in current crate (put an empty `#[frb]` on it to unignore): `clone`, `fmt`

/// Export all cards as JSON
///
/// This function exports all card data as JSON that can be saved as a backup file.
///
/// # Returns
///
/// JSON string containing all cards
///
/// # Example (Dart)
///
/// ```dart
/// final json = await loroExportSnapshot();
/// // Save json to file
/// ```
Future<String> loroExportSnapshot() => RustLib.instance.api.crateApiLoroExportLoroExportSnapshot();

/// Parse a backup file and return preview information
///
/// This function validates and previews a backup file without importing it.
///
/// # Arguments
///
/// * `data` - JSON string of the backup file
///
/// # Returns
///
/// FilePreview with information about the file contents
///
/// # Example (Dart)
///
/// ```dart
/// final preview = await loroParseFile(data: jsonString);
/// print('Cards: ${preview.cardCount}');
/// ```
Future<FilePreview> loroParseFile({required String data}) =>
    RustLib.instance.api.crateApiLoroExportLoroParseFile(data: data);

/// Import and merge data from a backup file
///
/// This function imports cards from a backup file and merges them
/// with existing data by comparing timestamps.
///
/// # Arguments
///
/// * `data` - JSON string of the backup file
///
/// # Returns
///
/// Number of cards imported
///
/// # Example (Dart)
///
/// ```dart
/// final count = await loroImportMerge(data: jsonString);
/// print('Imported $count cards');
/// ```
Future<BigInt> loroImportMerge({required String data}) =>
    RustLib.instance.api.crateApiLoroExportLoroImportMerge(data: data);

/// File preview information
class FilePreview {
  const FilePreview({required this.cardCount, required this.formatVersion, required this.fileSize});

  /// Number of cards in the file
  final BigInt cardCount;

  /// File format version (for future compatibility)
  final String formatVersion;

  /// Estimated file size in bytes
  final BigInt fileSize;

  @override
  int get hashCode => cardCount.hashCode ^ formatVersion.hashCode ^ fileSize.hashCode;

  @override
  bool operator ==(Object other) =>
      identical(this, other) ||
      other is FilePreview &&
          runtimeType == other.runtimeType &&
          cardCount == other.cardCount &&
          formatVersion == other.formatVersion &&
          fileSize == other.fileSize;
}
