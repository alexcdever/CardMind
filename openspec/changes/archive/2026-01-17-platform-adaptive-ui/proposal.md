## Why

CardMind 作为跨平台应用，需要在不同设备上提供最佳的用户体验。移动端设备（Android、iOS、iPadOS）主要使用触摸交互，而桌面端设备（macOS、Windows、Linux）主要使用键鼠交互。当前的 UI 设计没有针对不同平台的交互特性进行优化，导致用户体验不够理想。实现平台自适应 UI 系统可以让应用在每个平台上都提供原生般的交互体验。

## What Changes

- **平台检测系统**: 实现自动检测设备操作系统并分类为移动端或桌面端的机制
- **自适应 UI 架构**: 创建统一的自适应 UI 框架，根据平台类型自动选择合适的 UI 组件和布局
- **移动端 UI 优化**:
  - 触摸友好的按钮尺寸（最小 44x44 点击区域）
  - 底部导航栏和浮动操作按钮
  - 全屏编辑器和手势操作
  - 移动端特有的交互模式（下拉刷新、滑动删除等）
- **桌面端 UI 优化**:
  - 侧边栏导航和多列布局
  - 键盘快捷键支持（Ctrl+N 新建、Ctrl+S 保存等）
  - 鼠标悬停效果和右键菜单
  - 窗口化编辑器和拖拽操作
- **响应式布局**: 根据屏幕尺寸和平台类型动态调整布局
- **统一的 API**: 提供统一的接口让业务代码无需关心平台差异

## Capabilities

### New Capabilities

- `platform-detection`: 平台检测和分类系统，识别设备类型（移动端/桌面端）
- `adaptive-ui-framework`: 自适应 UI 框架，提供平台感知的组件和布局系统
- `mobile-ui-patterns`: 移动端 UI 模式和组件库（触摸优化）
- `desktop-ui-patterns`: 桌面端 UI 模式和组件库（键鼠优化）
- `keyboard-shortcuts`: 桌面端键盘快捷键系统

### Modified Capabilities

- `ui-interaction`: 现有的 SP-FLUT-003 UI 交互规格需要扩展，增加平台自适应的交互模式
- `home-screen`: SP-FLUT-008 主页交互规格需要适配移动端和桌面端的不同布局
- `card-creation`: SP-FLUT-009 卡片创建交互规格需要支持不同平台的编辑器体验

## Impact

**代码影响**:
- `lib/ui/`: 所有 UI 组件需要重构以支持平台自适应
- `lib/screens/`: 主要页面（主页、编辑器、设置）需要实现移动端和桌面端两种布局
- `lib/widgets/`: 通用组件需要提供平台感知的变体
- `lib/navigation/`: 导航系统需要根据平台选择不同的导航模式

**API 影响**:
- 新增平台检测 API
- 新增自适应组件 API
- 现有 UI 组件 API 保持兼容，但内部实现会根据平台切换

**依赖影响**:
- 可能需要引入 Flutter 平台检测相关的包（如 `flutter/foundation.dart` 的 `defaultTargetPlatform`）
- 可能需要引入响应式布局相关的包

**用户体验影响**:
- 移动端用户将获得更适合触摸操作的界面
- 桌面端用户将获得更高效的键鼠交互体验
- 所有平台的用户都将获得更符合平台习惯的交互模式

**测试影响**:
- 需要为移动端和桌面端分别编写 UI 测试
- 需要在不同平台上进行集成测试
- 需要测试平台切换的边界情况
