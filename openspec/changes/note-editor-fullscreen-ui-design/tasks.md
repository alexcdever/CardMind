## 1. 基础组件结构

- [x] 1.1 创建 NoteEditorFullscreen StatefulWidget
- [x] 1.2 定义组件参数接口（card, currentDevice, isOpen, onClose, onSave）
- [x] 1.3 实现内部状态管理（titleController, contentController, autoSaveTimer, hasUnsavedChanges）
- [x] 1.4 创建组件生命周期方法（initState, dispose）

## 2. 布局和UI组件

- [x] 2.1 实现全屏布局结构
- [x] 2.2 创建工具栏组件（56px + SafeArea.top）
- [x] 2.3 实现关闭按钮（× 图标，44x44px 触摸区域）
- [x] 2.4 实现自动保存状态显示（"自动保存" 文字）
- [x] 2.5 实现完成按钮（"完成" 文字 + ✓ 图标）
- [x] 2.6 创建标题输入框（24px 粗体，"笔记标题" 占位符）
- [x] 2.7 创建内容输入框（16px 常规，60vh 最小高度）
- [x] 2.8 实现元数据区域（创建时间、更新时间、最后编辑设备）
- [x] 2.9 添加分隔线和视觉层次

## 3. 自动保存机制

- [x] 3.1 实现防抖定时器逻辑（1 秒延迟）
- [x] 3.2 创建内容变更检测（title/content 与原始值对比）
- [x] 3.3 实现自动保存触发条件
- [x] 3.4 添加空内容不保存逻辑
- [x] 3.5 实现保存成功后的状态更新
- [x] 3.6 处理自动保存错误情况

## 4. 交互逻辑

- [x] 4.1 实现完成按钮点击处理
- [x] 4.2 实现关闭按钮点击处理
- [x] 4.3 添加未保存更改检测
- [x] 4.4 实现新建模式 vs 编辑模式逻辑
- [x] 4.5 处理快速连续点击防护
- [x] 4.6 实现返回键处理

## 5. 确认对话框

- [x] 5.1 创建 UnsavedChangesDialog 组件
- [x] 5.2 实现对话框内容（标题："有未保存的更改"，内容："是否保存更改？"）
- [x] 5.3 添加三个操作按钮（保存并关闭、放弃更改、取消）
- [x] 5.4 实现保存并关闭逻辑（包含内容验证）
- [x] 5.5 实现放弃更改逻辑
- [x] 5.6 实现取消逻辑
- [x] 5.7 添加对话框外部点击关闭
- [x] 5.8 实现按钮样式（主要、危险、次要）

## 6. 内容验证

- [x] 6.1 实现空内容检测（包含空格和换行符）
- [x] 6.2 添加 Toast 提示显示（"内容不能为空"）
- [x] 6.3 实现空标题自动填充（"无标题笔记"）
- [x] 6.4 处理新建模式空内容特殊逻辑
- [x] 6.5 实现编辑模式空内容验证

## 7. 动画和过渡

- [x] 7.1 实现打开动画（从底部滑入，300ms）
- [x] 7.2 实现关闭动画（向底部滑出，300ms）
- [x] 7.3 确保 60fps 动画性能
- [x] 7.4 添加硬件加速支持

## 8. 状态管理优化

- [x] 8.1 优化 setState 调用频率
- [x] 8.2 实现高效的更改检测算法
- [x] 8.3 添加防抖状态优化
- [x] 8.4 实现内存泄漏防护
- [x] 8.5 优化 TextEditingController 使用

## 9. 边界条件处理

- [x] 9.1 处理超长内容输入
- [x] 9.2 实现工具栏高度自适应（SafeArea 变化）
- [x] 9.3 添加元数据缺失字段处理
- [x] 9.4 处理组件销毁时的资源清理
- [x] 9.5 实现异常情况的优雅降级

## 10. 样式和主题

- [x] 10.1 实现浅色模式样式
- [x] 10.2 实现深色模式适配
- [x] 10.3 添加背景模糊效果
- [x] 10.4 实现触摸反馈和动画
- [x] 10.5 优化字体和间距规范

## 11. 单元测试实现

- [x] 11.1 创建 EditorState 测试套件
- [x] 11.2 实现 UT-001: 初始状态创建（新建模式）
- [x] 11.3 实现 UT-002: 初始状态创建（编辑模式）
- [x] 11.4 实现 UT-003: 空标题处理
- [x] 11.5 实现 UT-004: 空内容检测（新建模式）
- [x] 11.6 实现 UT-005: 空内容检测（编辑模式）
- [x] 11.7 实现 UT-006: 未保存更改检测
- [x] 11.8 实现 UT-007: 自动保存防抖
- [x] 11.9 实现 UT-008: 回调类型定义

## 12. Widget 测试实现

- [x] 12.1 创建渲染测试套件
- [x] 12.2 实现 WT-001: 基本渲染（新建模式）
- [x] 12.3 实现 WT-002: 基本渲染（编辑模式）
- [x] 12.4 实现 WT-003: 工具栏渲染
- [ ] 12.5 实现 WT-004: 标题输入框
- [ ] 12.6 实现 WT-005: 内容输入框
- [ ] 12.7 实现 WT-006: 元数据渲染（编辑模式）
- [ ] 12.8 实现 WT-007: 元数据渲染（新建模式）
- [ ] 12.9 实现 WT-008: 工具栏高度
- [ ] 12.10 实现 WT-009: 背景模糊效果
- [ ] 12.11 实现 WT-010: 全屏布局
- [x] 12.12 实现 WT-011: 关闭状态
- [ ] 12.13 实现 WT-012: 时间格式

- [x] 12.14 创建交互测试套件
- [x] 12.15 实现 WT-013: 输入标题
- [x] 12.16 实现 WT-014: 输入内容
- [x] 12.17 实现 WT-015: 点击完成按钮（有效内容）
- [x] 12.18 实现 WT-016: 点击完成按钮（空内容）
- [x] 12.19 实现 WT-017: 点击关闭按钮（无更改）
- [x] 12.20 实现 WT-018: 点击关闭按钮（有更改）
- [ ] 12.21 实现 WT-019: 确认对话框 - 保存并关闭
- [ ] 12.22 实现 WT-020: 确认对话框 - 放弃更改
- [x] 12.23 实现 WT-021: 确认对话框 - 取消
- [ ] 12.24 实现 WT-022: 自动保存触发
- [ ] 12.25 实现 WT-023: 自动保存防抖
- [ ] 12.26 实现 WT-024: 完成按钮取消自动保存
- [x] 12.27 实现 WT-025: 空标题自动填充
- [x] 12.28 实现 WT-026: 新建模式空内容关闭
- [ ] 12.29 实现 WT-027: 编辑模式空内容关闭
- [ ] 12.30 实现 WT-028: 快速连续点击完成按钮
- [ ] 12.31 实现 WT-029: 打开动画
- [ ] 12.32 实现 WT-030: 关闭动画

- [x] 12.33 创建边界测试套件
- [ ] 12.34 实现 WT-031: 返回键行为
- [ ] 12.35 实现 WT-032: 确认对话框外部点击
- [ ] 12.36 实现 WT-033: 超长标题
- [ ] 12.37 实现 WT-034: 超长内容
- [x] 12.38 实现 WT-035: 标题只有空格
- [x] 12.39 实现 WT-036: 内容只有空格（新建模式）
- [x] 12.40 实现 WT-037: 内容只有空格（编辑模式）
- [x] 12.41 实现 WT-038: 内容只有换行符
- [ ] 12.42 实现 WT-039: card 为 null
- [ ] 12.43 实现 WT-040: card 不为 null
- [ ] 12.44 实现 WT-041: 无 SafeArea
- [ ] 12.45 实现 WT-042: 有 SafeArea
- [ ] 12.46 实现 WT-043: 自动保存期间关闭
- [ ] 12.47 实现 WT-044: 确认对话框保存空内容
- [ ] 12.48 实现 WT-045: 元数据缺失字段

## 13. 性能测试

- [ ] 13.1 实现输入响应测试（< 16ms）
- [ ] 13.2 实现自动保存频率测试（最多每秒 1 次）
- [ ] 13.3 实现动画流畅度测试（60fps）
- [ ] 13.4 实现内存使用测试（< 10MB 增长）
- [ ] 13.5 实现长时间编辑稳定性测试

## 14. 国际化和可访问性

- [ ] 14.1 添加中文本地化支持
- [ ] 14.2 添加英文本地化支持
- [ ] 14.3 实现屏幕阅读器支持
- [ ] 14.4 添加语义标签
- [ ] 14.5 实现键盘导航支持

## 15. 集成和文档

- [ ] 15.1 集成到现有导航系统
- [ ] 15.2 连接 Rust 数据模型
- [x] 15.3 实现 OnClose 和 OnSave 回调
- [x] 15.4 添加组件文档注释
- [x] 15.5 创建使用示例代码

## 16. 最终验证

- [x] 16.1 运行所有单元测试
- [x] 16.2 运行所有 Widget 测试
- [ ] 16.3 执行性能基准测试
- [ ] 16.4 进行手动端到端测试
- [x] 16.5 验证与原始设计文档的一致性