# 同步详情对话框规格


---


本规格定义了同步详情对话框，提供全面的同步信息，包括设备列表、同步历史和配置。


---


系统应提供显示详细同步信息的对话框，包括设备列表、同步历史和配置。


- **操作**：打开对话框
- **预期结果**：系统应显示所有发现的对等设备列表
- **并且**：指示当前连接的设备
- **并且**：显示每个设备的上次可见时间戳


- **操作**：打开对话框
- **预期结果**：系统应显示已同步卡片的总数
- **并且**：显示同步的总数据大小
- **并且**：显示同步会话统计信息（成功/失败的同步）


---


系统应显示最近同步事件的时间顺序列表。


- **操作**：显示同步历史
- **预期结果**：系统应列出带有时间戳的最近同步事件
- **并且**：指示每个事件的成功或失败状态
- **并且**：显示每个同步事件涉及的设备


- **操作**：发生同步冲突
- **预期结果**：系统应在历史中突出显示冲突事件
- **并且**：提供有关如何解决冲突的详细信息


---


系统应允许用户手动触发同步操作。


- **操作**：用户点击"立即同步"按钮
- **预期结果**：系统应立即尝试与可用对等点同步
- **并且**：实时更新同步状态


- **操作**：用户点击"刷新设备"按钮
- **预期结果**：系统应重新扫描可用的对等设备
- **并且**：更新设备列表显示


---


系统应显示当前的同步配置设置。


- **操作**：显示同步配置
- **预期结果**：系统应指示自动同步是启用还是禁用


- **操作**：显示同步配置
- **预期结果**：系统应显示当前同步协议版本
- **并且**：显示网络配置（WiFi、蓝牙等）


---


系统应提供明确的操作来关闭对话框。


- **操作**：用户点击对话框外部或按下关闭按钮
- **预期结果**：系统应关闭对话框
- **并且**：返回到上一个屏幕


---


- `it_should_show_discovered_devices()` - 显示设备列表
- `it_should_indicate_connected_devices()` - 指示连接状态
- `it_should_show_last_seen_timestamps()` - 显示上次可见时间
- `it_should_show_sync_statistics()` - 显示同步统计
- `it_should_show_sync_event_log()` - 显示事件日志
- `it_should_highlight_conflicts()` - 高亮冲突
- `it_should_trigger_manual_sync()` - 触发手动同步
- `it_should_refresh_device_list()` - 刷新设备
- `it_should_show_auto_sync_status()` - 显示自动同步状态
- `it_should_show_protocol_info()` - 显示协议信息


---


**最后更新**: 2026-01-23
**作者**: CardMind Team
