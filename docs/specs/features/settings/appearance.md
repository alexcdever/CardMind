# 外观设置规格

## 概述

本规格定义主题模式与文本大小的业务规则。外观偏好属于本地设置，必须持久化并立即生效，不参与数据池同步。

---

## GIVEN-WHEN-THEN 场景

### 场景：切换主题模式

- **GIVEN**: 当前主题模式为浅色、深色或跟随系统
- **WHEN**: 调用方设置目标主题模式
- **THEN**: 系统立即应用新的主题模式
- **AND**: 主题偏好持久化到本地设置

### 场景：跟随系统主题

- **GIVEN**: 主题模式设置为跟随系统
- **WHEN**: 系统主题偏好发生变化
- **THEN**: 系统自动切换到新的主题模式
- **AND**: 主题偏好保持为“跟随系统”

### 场景：调整文本大小

- **GIVEN**: 提供的文本大小在允许范围内
- **WHEN**: 调用方提交文本大小更新请求
- **THEN**: 系统更新文本大小并立即生效
- **AND**: 文本大小偏好持久化到本地设置
