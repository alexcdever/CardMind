# 引导流程规格（共享）


---


### 1.1 目标


定义 CardMind 应用初始化流程规范，确保：

- 首次用户获得适当指导
- 与 DeviceConfig 的 join_pool 机制无缝集成
- 正确初始化本地存储和同步服务
- 跨平台一致的初始化体验

### 1.2 适用平台

- Android
- iOS
- iPadOS
- macOS
- Windows
- Linux


---


### 需求：应用应检测首次启动


应用应检测首次启动。

#### 场景：首次启动显示欢迎屏幕

- **前置条件**：用户首次打开应用
- **操作**：应用启动
- **预期结果**：欢迎页应显示
- **并且**：设备配置不应存在

#### 场景：后续启动显示主屏幕

- **前置条件**：用户已完成引导
- **操作**：应用启动
- **预期结果**：主屏幕应显示
- **并且**：设备配置应存在


---


### 需求：欢迎屏幕应介绍应用


欢迎页应介绍应用。

#### 场景：欢迎屏幕显示应用名称

- **前置条件**：欢迎页已显示
- **操作**：查看屏幕
- **预期结果**：应用名称 "CardMind" 应显示
- **并且**：应用描述应显示

#### 场景：开始使用按钮可用

- **前置条件**：欢迎页已显示
- **操作**：查看屏幕
- **预期结果**："开始使用"按钮应可见
- **并且**：按钮应启用


---


### 需求：用户应创建或加入池


用户应创建或加入池。

#### 场景：用户可以创建新池

- **前置条件**：用户点击"开始使用"
- **操作**：操作选择屏幕出现
- **预期结果**："创建新池"选项应可用
- **并且**：点击选项应显示池创建表单

#### 场景：池创建需要名称

- **前置条件**：池创建表单已显示
- **操作**：用户输入池名称
- **预期结果**：名称应验证
- **并且**：空名称应被拒绝

#### 场景：池创建成功

- **前置条件**：用户输入有效的池名称
- **操作**：用户确认创建
- **预期结果**：池应被创建
- **并且**：设备应加入池
- **并且**：应用应导航到主屏幕


---


### 需求：用户应能够加入现有池


用户应能够加入现有池。

#### 场景：用户可以加入池

- **前置条件**：用户点击"开始使用"
- **操作**：操作选择屏幕出现
- **预期结果**："加入现有池"选项应可用
- **并且**：点击选项应显示池加入表单

#### 场景：池加入需要池 ID

- **前置条件**：池加入表单已显示
- **操作**：用户输入池 ID
- **预期结果**：ID 应验证
- **并且**：空 ID 应被拒绝

#### 场景：池加入成功

- **前置条件**：用户输入有效的池 ID
- **操作**：用户确认加入
- **预期结果**：设备应加入池
- **并且**：应用应导航到主屏幕


---


### 需求：引导应初始化存储


引导应初始化本地存储。

#### 场景：创建池时初始化存储

- **前置条件**：用户创建新池
- **操作**：池创建成功
- **预期结果**：本地存储应初始化
- **并且**：数据库表应创建

#### 场景：加入池时初始化存储

- **前置条件**：用户加入现有池
- **操作**：池加入成功
- **预期结果**：本地存储应初始化
- **并且**：数据库表应创建


---


### 需求：引导应配置同步


引导应配置同步服务。

#### 场景：创建池时配置同步

- **前置条件**：用户创建新池
- **操作**：池创建成功
- **预期结果**：同步服务应配置
- **并且**：设备应开始监听连接

#### 场景：加入池时配置同步

- **前置条件**：用户加入现有池
- **操作**：池加入成功
- **预期结果**：同步服务应配置
- **并且**：设备应开始发现对等点


---


**最后更新**: 2026-01-23
**作者**: CardMind Team
