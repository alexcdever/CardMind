# 桌面端导航规格

**依赖**: 无
**相关测试**: `test/feature/widgets/desktop_nav_feature_test.dart`

---

## 概述

本规格定义桌面端导航组件，为应用主要部分提供访问入口，使用侧边栏或标签式导航并针对大屏幕与鼠标交互优化。

**适用平台**:
- macOS
- Windows
- Linux

---

## 需求：主要部分导航

系统应在桌面端提供到应用主要部分的导航。

### 场景：显示导航部分

- **前置条件**: 用户在桌面端应用上
- **操作**: 查看主窗口
- **预期结果**: 系统应显示导航到:笔记、设备和设置
- **并且**: 使用清晰的部分标签
- **并且**: 为每个部分显示图标

### 场景：高亮激活的部分

- **前置条件**: 用户在特定部分
- **操作**: 查看导航
- **预期结果**: 系统应高亮当前部分
- **并且**: 为激活部分使用不同颜色
- **并且**: 为激活部分使用填充图标

---

## 需求：鼠标交互

系统应在桌面端支持导航的鼠标交互。

### 场景：点击导航到部分

- **前置条件**: 用户点击导航项
- **操作**: 点击发生
- **预期结果**: 系统应导航到选定部分
- **并且**: 更新激活部分高亮
- **并且**: 使用流畅的过渡动画

### 场景：导航项悬停效果

- **前置条件**: 用户悬停在导航项上
- **操作**: 鼠标进入项区域
- **预期结果**: 系统应显示悬停效果
- **并且**: 改变背景颜色
- **并且**: 将光标改为指针

---

## 需求：键盘导航

系统应在桌面端支持导航的键盘快捷键。

### 场景：使用键盘快捷键切换部分

- **前置条件**: 用户在桌面端应用上
- **操作**: 用户按 Cmd/Ctrl+1
- **预期结果**: 系统应导航到笔记部分
- **并且**: Cmd/Ctrl+2 应导航到设备
- **并且**: Cmd/Ctrl+3 应导航到设置

### 场景：Tab 键在项之间导航

- **前置条件**: 用户按 Tab 键
- **操作**: 导航有焦点
- **预期结果**: 系统应将焦点移到下一个导航项
- **并且**: 显示焦点指示器

---

## 需求：部分指示器

系统应在导航部分中显示重要信息的指示器。

### 场景：显示笔记计数指示器

- **前置条件**: 用户在系统中有卡片
- **操作**: 查看笔记导航项
- **预期结果**: 系统应显示笔记总数
- **并且**: 将计数定位在部分标签旁边

### 场景：显示设备计数指示器

- **前置条件**: 用户有配对设备
- **操作**: 查看设备导航项
- **预期结果**: 系统应显示配对设备数量
- **并且**: 将计数定位在部分标签旁边

---

## 测试覆盖

**测试文件**: `test/feature/widgets/desktop_nav_feature_test.dart`

**组件测试**:
- `it_should_show_navigation_sections()` - 显示导航部分
- `it_should_highlight_active_section()` - 高亮激活部分
- `it_should_navigate_on_click()` - 点击时导航
- `it_should_show_hover_effect()` - 显示悬停效果
- `it_should_support_keyboard_shortcuts()` - 支持键盘快捷键
- `it_should_support_tab_navigation()` - 支持 Tab 导航
- `it_should_show_note_count()` - 显示笔记计数
- `it_should_show_device_count()` - 显示设备计数

**验收标准**:
- [ ] 所有组件测试通过
- [ ] 导航清晰且直观
- [ ] 键盘快捷键正常工作
- [ ] 悬停效果流畅
- [ ] 代码审查通过
- [ ] 文档已更新
