## Why

当前主规格文档的内容组织与目录结构语义不匹配：`domain/` 目录下的文档（如 card_store.md）更像是功能规格而非领域模型定义，`features/` 目录下的文档更像是 UI 组件库文档而非功能描述。这种不一致导致文档难以维护和查找，需要重新组织内容使其与目录结构的语义保持一致。

## What Changes

基于代码库的真实业务结构，重新组织主规格文档的内容：

- **重构 domain/ 目录**：将当前的功能规格内容重构为真正的领域模型和领域资源管理文档
  - 定义核心领域实体（Card、Pool、Device）
  - 定义领域服务和业务规则
  - 定义数据契约和类型系统

- **重构 features/ 目录**：将当前的 UI 组件文档重构为业务功能规格文档
  - 卡片管理功能（创建、编辑、查看、删除）
  - 数据池管理功能（创建、加入、离开、成员管理）
  - P2P 同步功能（设备发现、数据同步、冲突解决）
  - 搜索和过滤功能
  - 设置和配置功能

- **新增 ui_components/ 目录**：将原 features/ 中的 UI 组件文档迁移到独立目录
  - 卡片列表组件
  - 卡片编辑器组件
  - 导航组件
  - 同步状态指示器组件
  - 自适应布局组件

- **保持目录结构不变**：仅重组文档内容，不改变目录结构

## Capabilities

### New Capabilities

- `card-management`: 卡片管理功能规格（创建、编辑、查看、删除、标签管理）
- `pool-management`: 数据池管理功能规格（创建、加入、离开、密码验证、成员管理）
- `p2p-sync`: P2P 同步功能规格（设备发现、数据同步、冲突解决、同步状态）
- `search-and-filter`: 搜索和过滤功能规格（全文搜索、标签过滤、排序）
- `settings-and-config`: 设置和配置功能规格（主题、mDNS、设备配置）
- `card-domain-model`: 卡片领域模型规格（Card 实体、业务规则、生命周期）
- `pool-domain-model`: 数据池领域模型规格（Pool 实体、Device 实体、单池约束）
- `storage-architecture`: 存储架构规格（双层架构、Loro CRDT、SQLite 缓存、订阅机制）
- `security-model`: 安全模型规格（密码管理、Keyring 存储、隐私保护）

### Modified Capabilities

- `card-store`: 从功能规格重构为存储层实现规格（专注于 CardStore 的技术实现）
- `pool-model`: 从功能规格重构为领域模型规格（专注于 Pool 和 Device 的领域定义）
- `sync-protocol`: 从技术协议重构为同步机制规格（专注于 P2P 同步的技术细节）
- `device-config`: 从功能规格重构为配置管理规格（专注于设备配置的技术实现）
- `common-types`: 从数据契约重构为类型系统规格（专注于跨层共享的类型定义）

## Impact

**受影响的文档**：
- `openspec/specs/domain/` - 5 个文档需要重构
- `openspec/specs/features/` - 14 个子目录（约 40+ 个文档）需要重新分类和重构
- 新增 `openspec/specs/ui_components/` 目录

**受影响的代码**：
- 无直接代码变更（仅文档重组）
- 但文档重组后将更准确地反映代码结构

**受影响的依赖**：
- 文档间的引用关系需要更新
- ADR 文档中的引用需要更新
- 测试文件路径引用需要更新

**受影响的系统**：
- OpenSpec 工作流（需要更新文档路径）
- 文档生成工具（如果有）
- 开发者文档查找习惯

**预期收益**：
- 文档结构与代码结构一致，易于查找和维护
- 领域模型文档清晰定义业务概念
- 功能规格文档清晰描述用户功能
- UI 组件文档独立管理，便于前端开发
- 降低新开发者的学习曲线
