# Domain 规格模板化重构设计

**目标**: 统一 `docs/specs/domain/**` 下的规格文档格式与表达方式，使其对齐 `docs/specs/architecture/security/keyring.md` 的模板风格，提高一致性与可读性。

## 背景
Domain 规格文档结构不一致，部分缺少统一的元数据与测试覆盖结构，阅读与维护成本偏高。以 keyring 模板为基线，可让领域规则表达更清晰、便于测试映射。

## 设计原则
- **结构统一**: 标题、元数据（无版本）、概述、需求/场景、测试覆盖为必含结构。
- **语义不变**: 不改变既有领域规则与结论，仅重写表达与结构。
- **缺项补齐**: 缺失字段以“待补充/不适用”标注，不引入新结论。
- **清晰优先**: GIVEN-WHEN-THEN 风格，中文表达，保持 LF/UTF-8。

## 元数据规范
- 必含字段：**状态**、**依赖**、**相关测试**。
- 移除 **版本** 字段。
- 无法确认测试文件时，标注 **相关测试: 待补充**。

## 模板结构（最小必含）
1. 标题
2. 元数据（无版本）
3. 分隔线
4. 概述
5. 需求：…
   - 场景：…（前置条件/操作/预期结果/并且）
6. 测试覆盖

可选扩展：实现逻辑、术语/类型说明、约束/规则细节等，按原文信息补齐。

## 实施范围
- `docs/specs/domain/card.md`
- `docs/specs/domain/pool.md`
- `docs/specs/domain/sync.md`
- `docs/specs/domain/types.md`

## 风险与控制
- 风险：重写导致语义偏移。
- 控制：保持“语义不变”原则，必要时保留原句并仅调整结构；不确定内容标“待补充”。

## 验证方式
- 结构检查：每份文档包含必含段落。
- 逻辑检查：原有规则与结论保持一致。
