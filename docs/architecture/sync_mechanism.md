# 同步机制 (Sync)

> **核心特性**: CardMind 采用去中心化同步技术，让您的笔记在所有设备间自动保持一致，无需云端服务器。

---

## 1. 工作原理

### 1.1 本地同步

每次您编辑卡片时，变更会立即保存到本地存储：

1. **离线可用**: 所有数据保存在本地，随时可以编辑
2. **自动保存**: 停止编辑后自动保存，无需手动操作
3. **本地备份**: 数据存储在设备本地，不依赖外部服务

### 1.2 多设备同步

当设备连接到同一网络时，自动发现并同步：

| 功能 | 说明 |
|------|------|
| **自动发现** | 在本地网络中找到同一笔记空间的其他设备 |
| **增量同步** | 只传输变更的部分，不传输完整数据 |
| **后台同步** | 无需手动操作，连接网络后自动同步 |
| **冲突解决** | 自动合并不同设备的修改，无需手动处理 |

---

## 2. 隐私与安全

### 2.1 网络发现

设备发现基于**本地网络**，不会将数据发送到互联网：

- 同一 WiFi 网络下的设备可以相互发现
- 不通过云服务器中转数据
- mDNS 广播仅包含设备基本信息（不含笔记内容）

### 2.2 数据隔离

每个笔记空间是独立的：

- 不同笔记空间的数据完全隔离
- 无法访问未加入的笔记空间
- 加入时需要密码验证

---

## 3. 使用场景

### 3.1 日常使用

```
我在手机上创建卡片 → 回到家打开平板 → 卡片已自动同步
```

### 3.2 离线编辑

```
在飞机上编辑卡片 → 落地后连接 WiFi → 自动同步到其他设备
```

### 3.3 多设备协作

```
我在平板上编辑 → 同事在手机上看到变更 → 无需任何操作
```

---

## 4. 限制与说明

### 4.1 网络要求

- 设备需要在**同一本地网络**才能相互发现
- 跨网络同步需要先在同一网络内建立连接

### 4.2 设备限制

- 每个笔记空间支持多设备同步
- 第一台设备创建笔记空间，后续设备通过配对加入

### 4.3 数据安全

- CRDT 技术保证冲突自动解决
- 最新修改胜出，无需手动选择
- 软删除机制保护误删数据

---

## 5. 相关文档

- [用户手册](../user_guide.md) - 完整使用指南
- [产品愿景](../requirements/product_vision.md) - 产品定位
- [产品路线图](../roadmap.md) - 功能规划

---

**最后更新**: 2026-01-15
