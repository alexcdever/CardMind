# ADR-0004：UI 设计系统

**状态**：已接受
**日期**：2024-12-31
**决策者**：CardMind Team

---

## 背景

CardMind 需要一个统一的 UI 设计系统，确保跨平台的视觉一致性和良好的用户体验。设计系统需要定义颜色、字体、间距、布局等核心元素。

---

## 决策

我们建立了一套基于 Material Design 3 的设计系统，包含以下核心元素：

---

## 1. 色彩系统

### 主色调：Teal（青色）

我们选择 **Teal** 作为主色调，原因如下：

- **专业感**：青色传达专业、可靠的感觉，适合知识管理工具
- **舒适性**：相比蓝色更柔和，长时间使用不易疲劳
- **区分度**：在笔记应用中较为独特，有辨识度

### 色彩定义

```dart
// 主色调
primary: Teal[600]        // #00897B - 主要操作按钮、强调元素
primaryLight: Teal[400]   // #4DB6AC - 悬停状态
primaryDark: Teal[800]    // #00695C - 按下状态

// 辅助色
secondary: Amber[600]     // #FFB300 - 次要操作、提示
error: Red[600]           // #E53935 - 错误提示
success: Green[600]       // #43A047 - 成功提示
warning: Orange[600]      // #FB8C00 - 警告提示

// 中性色
background: Grey[50]      // #FAFAFA - 背景
surface: White            // #FFFFFF - 卡片、对话框
onSurface: Grey[900]      // #212121 - 主要文本
onSurfaceVariant: Grey[600] // #757575 - 次要文本
```

### 使用原则

- **主色调**用于主要操作和品牌元素
- **辅助色**用于次要操作和状态提示
- **中性色**用于背景、文本和边框
- 确保所有颜色组合满足 WCAG AA 级对比度标准（4.5:1）

---

## 2. 字体系统

### 平台原生字体

我们使用各平台的原生字体，确保最佳的阅读体验和性能：

- **iOS/macOS**：San Francisco
- **Android**：Roboto
- **Windows**：Segoe UI
- **Linux**：Ubuntu / Noto Sans

### 字体层级

```
标题 1 (H1): 32sp, Bold, 行高 40sp
标题 2 (H2): 24sp, Bold, 行高 32sp
标题 3 (H3): 20sp, SemiBold, 行高 28sp
正文 (Body): 16sp, Regular, 行高 24sp
小字 (Caption): 14sp, Regular, 行高 20sp
按钮 (Button): 16sp, Medium, 行高 24sp
```

### 使用原则

- 标题使用 Bold 或 SemiBold 权重
- 正文使用 Regular 权重
- 行高保持 1.5 倍字号，确保可读性
- 避免使用过多字体层级，保持简洁

---

## 3. 间距系统

### 8px 网格

所有间距都基于 **8px 的倍数**，确保视觉对齐和一致性：

```
xs:  4px   (0.5x) - 紧密元素间距
sm:  8px   (1x)   - 小间距
md:  16px  (2x)   - 标准间距
lg:  24px  (3x)   - 大间距
xl:  32px  (4x)   - 特大间距
xxl: 48px  (6x)   - 区块间距
```

### 使用场景

- **4px**：图标与文本、标签内边距
- **8px**：列表项内边距、小组件间距
- **16px**：卡片内边距、标准组件间距
- **24px**：区块间距、页面边距
- **32px**：大区块间距
- **48px**：页面顶部/底部留白

---

## 4. 布局系统

### 响应式断点

```
手机 (Mobile):    < 600px
平板 (Tablet):    600px - 1024px
桌面 (Desktop):   > 1024px
```

### 布局原则

**手机端**：
- 单列布局
- 全屏卡片列表
- 底部导航栏

**平板端**：
- 双列布局（列表 + 详情）
- 侧边导航栏
- 更大的卡片尺寸

**桌面端**：
- 三列布局（导航 + 列表 + 详情）
- 固定侧边栏
- 最大内容宽度 1200px

### 卡片设计

```
圆角: 12px
阴影: elevation 2 (轻微阴影)
内边距: 16px
卡片间距: 8px (列表) / 16px (网格)
```

---

## 5. 交互反馈

### 动画时长

```
快速: 100ms  - 按钮点击、开关切换
标准: 200ms  - 卡片展开、对话框弹出
缓慢: 300ms  - 页面切换、大型动画
```

### 缓动函数

- **进入**：ease-out（快速开始，缓慢结束）
- **退出**：ease-in（缓慢开始，快速结束）
- **强调**：ease-in-out（两端缓慢，中间快速）

### 触觉反馈

- 按钮点击：轻微震动
- 长按操作：中等震动
- 错误提示：强烈震动

---

## 考虑过的其他方案

**方案：使用自定义字体（如 Inter、Poppins）**
拒绝原因：增加应用体积，加载时间更长，且平台原生字体已经过优化

**方案：使用 4px 网格**
拒绝原因：间距过小，视觉层次不够清晰

**方案：使用蓝色作为主色调**
拒绝原因：笔记应用中蓝色过于常见，缺乏辨识度

---

## 影响

### 优势

- **一致性**：统一的设计语言，降低学习成本
- **可维护性**：设计系统易于扩展和修改
- **性能**：使用原生字体，减少资源加载
- **可访问性**：满足对比度标准，支持大字体

### 实施要求

- 所有 UI 组件必须遵循设计系统
- 新增颜色或间距需要更新设计系统文档
- 定期审查设计一致性

---

**相关文档**：[UI 设计规范](../design/ui_guidelines.md)
