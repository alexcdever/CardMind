# 布局指南

> **文档类型**: 视觉设计规范（非可执行规格）
> **用途**: 定义 CardMind 的布局结构和响应式规则

---

## 📋 文档说明

本文档定义 CardMind 的**布局结构**，包括页面结构、响应式规则等。

**注意**: 本文档不包含交互行为规格。交互规格请查看 `openspec/specs/features/`。

---

## 1. 页面结构

### 1.1 标准页面布局

```
┌─────────────────────────────────────┐
│ AppBar (顶部栏)                      │
│   [标题] [操作按钮]                   │
├─────────────────────────────────────┤
│                                     │
│ Body (主体内容区)                    │
│                                     │
│                                     │
│                                     │
│                                     │
├─────────────────────────────────────┤
│ BottomNavigationBar (底部导航栏)     │
│   [图标1] [图标2] [图标3]            │
└─────────────────────────────────────┘
```

### 1.2 AppBar 规范

```
高度: 56dp (手机) / 64dp (平板/桌面)
内边距: 16dp (左右)
标题字号: 20px
操作按钮尺寸: 48x48 dp
```

### 1.3 底部导航栏规范

```
高度: 56dp
图标尺寸: 24px
标签字号: 12px
最多项目数: 5 个
```

---

## 2. 响应式布局

### 2.1 断点定义

```dart
// 响应式断点
const double mobileBreakpoint = 600;
const double tabletBreakpoint = 1024;

// 使用示例
if (width < mobileBreakpoint) {
  // 手机布局
} else if (width < tabletBreakpoint) {
  // 平板布局
} else {
  // 桌面布局
}
```

### 2.2 手机布局 (< 600px)

```
特点:
- 单列布局
- 全屏显示
- 拇指操作优先
- 底部导航栏

卡片列表:
- 列数: 1
- 卡片宽度: 100% - 32px (左右各 16px)
- 卡片间距: 12px
```

### 2.3 平板布局 (600px - 1024px)

```
特点:
- 双列或自适应布局
- 侧边栏 + 主内容区
- 浏览与编辑平衡

卡片列表:
- 列数: 2
- 卡片间距: 16px
- 左右边距: 24px
```

### 2.4 桌面布局 (> 1024px)

```
特点:
- 三列布局
- 侧边栏 + 主内容区 + 详情面板
- 效率优先

卡片列表:
- 列数: 3-4 (根据屏幕宽度)
- 卡片间距: 20px
- 最大内容宽度: 1440px (居中)
```

---

## 3. 卡片布局

### 3.1 列表视图

```
┌─────────────────────────────────┐
│ 卡片标题                         │
│ 预览内容预览内容预览内容...       │
│                                 │
│ [更新时间] [同步状态]            │
└─────────────────────────────────┘

尺寸:
- 最小高度: 120px
- 内边距: 16px
- 圆角: 8px
- 阴影: elevation 2
```

### 3.2 网格视图

```
┌───────────┐ ┌───────────┐
│ 标题      │ │ 标题      │
│           │ │           │
│ 预览...   │ │ 预览...   │
│           │ │           │
│ [时间]    │ │ [时间]    │
└───────────┘ └───────────┘

尺寸:
- 宽高比: 1:1.2
- 内边距: 12px
- 圆角: 8px
```

---

## 4. 间距规范

### 4.1 页面边距

```
手机:
- 左右边距: 16px
- 顶部边距: 16px
- 底部边距: 16px

平板:
- 左右边距: 24px
- 顶部边距: 24px
- 底部边距: 24px

桌面:
- 左右边距: 32px (或居中最大宽度)
- 顶部边距: 32px
- 底部边距: 32px
```

### 4.2 组件间距

```
标题与内容: 16px
段落间距: 12px
列表项间距: 8px
卡片间距: 12px (手机) / 16px (平板) / 20px (桌面)
```

---

## 5. 特殊布局

### 5.1 空状态布局

```
┌─────────────────────────────────┐
│                                 │
│         [空状态图标]             │
│                                 │
│       空状态提示文字             │
│                                 │
│      [操作按钮]                 │
│                                 │
└─────────────────────────────────┘

居中显示，垂直居中
图标尺寸: 64px
文字字号: 16px
按钮位置: 文字下方 24px
```

### 5.2 加载状态布局

```
┌─────────────────────────────────┐
│                                 │
│    [CircularProgressIndicator]  │
│                                 │
│         加载中...               │
│                                 │
└─────────────────────────────────┘

居中显示
指示器尺寸: 40px
文字字号: 14px
```

### 5.3 错误状态布局

```
┌─────────────────────────────────┐
│                                 │
│         [错误图标]               │
│                                 │
│       错误提示文字               │
│                                 │
│      [重试按钮]                 │
│                                 │
└─────────────────────────────────┘

布局同空状态
图标颜色: 错误色 (#E53935)
```

---

## 6. 对话框布局

### 6.1 标准对话框

```
┌─────────────────────────────────┐
│ 对话框标题                       │
├─────────────────────────────────┤
│                                 │
│ 对话框内容                       │
│                                 │
├─────────────────────────────────┤
│              [取消] [确定]       │
└─────────────────────────────────┘

宽度: 280dp (手机) / 400dp (平板/桌面)
内边距: 24px
按钮高度: 48px
圆角: 12px
```

### 6.2 底部抽屉

```
┌─────────────────────────────────┐
│ ═══ (拖动指示器)                 │
│                                 │
│ 抽屉标题                         │
│                                 │
│ 抽屉内容                         │
│                                 │
└─────────────────────────────────┘

最大高度: 90% 屏幕高度
内边距: 16px
圆角: 12px (顶部)
```

---

## 7. 表单布局

### 7.1 输入框

```
高度: 48dp
内边距: 12px 16px
圆角: 8px
标签字号: 12px
输入字号: 16px
```

### 7.2 按钮

```
主要按钮:
- 高度: 48dp
- 内边距: 12px 24px
- 圆角: 8px
- 字号: 16px

次要按钮:
- 高度: 40dp
- 内边距: 8px 16px
- 圆角: 8px
- 字号: 14px

文字按钮:
- 高度: 36dp
- 内边距: 8px 12px
- 无背景
- 字号: 14px
```

---

## 8. 相关文档

### 设计文档
- [视觉风格指南](./visual_style.md) - 颜色、字体、间距
- [组件库](./component_library.md) - 可复用组件设计

### 交互规格（可执行）
- [主页交互规格](../../openspec/specs/features/home_screen/ui_shared.md)
- [卡片列表规格](../../openspec/specs/features/card_list/ui_mobile.md)

---

**最后更新**: 2026-01-16
**维护者**: CardMind Design Team
